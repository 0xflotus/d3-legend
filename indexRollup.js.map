{"version":3,"file":null,"sources":["src/legend.js","src/color.js","src/size.js","src/symbol.js","src/helpers.js","index.js"],"sourcesContent":["const d3_identity =  (d) => d\n\nconst d3_reverse = (arr) => {\n  const mirror = [];\n  for (let i = 0, l = arr.length; i < l; i++) {\n    mirror[i] = arr[l-i-1];\n  }\n  return mirror;\n}\n\nconst d3_mergeLabels = (gen=[], labels, domain, range) => {\n\n    if (typeof labels === \"object\"){\n      if(labels.length === 0) return gen;\n\n      let i = labels.length;\n      for (; i < gen.length; i++) {\n        labels.push(gen[i]);\n      }\n      return labels;\n    } else if (typeof labels === \"function\") {\n      const customLabels = []\n      const genLength = gen.length\n      for (let i=0; i < genLength; i++){\n        customLabels.push(labels({\n          i,\n          genLength,\n          generatedLabels : gen,\n          domain,\n          range }))\n      }\n      return customLabels\n    }\n\n    return gen;\n  }\n\nconst d3_linearLegend = (scale, cells, labelFormat) => {\n  let data = [];\n\n  if (cells.length > 1){\n    data = cells;\n\n  } else {\n    const domain = scale.domain(),\n    increment = (domain[domain.length - 1] - domain[0])/(cells - 1)\n    let i = 0;\n\n    for (; i < cells; i++){\n      data.push(domain[0] + i*increment);\n    }\n  }\n\n  const labels = data.map(labelFormat);\n\n  return {data: data,\n          labels: labels,\n          feature: d => scale(d)};\n}\n\nconst d3_quantLegend = (scale, labelFormat, labelDelimiter) => {\n  const labels = scale.range().map( d => {\n    const invert = scale.invertExtent(d);\n    return labelFormat(invert[0]) + \" \" + labelDelimiter + \" \" + labelFormat(invert[1]);\n  });\n\n  return {data: scale.range(),\n          labels: labels,\n          feature: d3_identity\n        };\n}\n\nconst d3_ordinalLegend= scale => ({data: scale.domain(),\n          labels: scale.domain(),\n          feature: d => scale(d) }\n)\n\nconst d3_cellOver = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellover\", obj, d);\n}\n\nconst d3_cellOut = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellout\", obj, d);\n}\n\nconst d3_cellClick = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellclick\", obj, d);\n}\n\n\nexport default {\n\n  d3_drawShapes: (shape, shapes, shapeHeight, shapeWidth, shapeRadius, path) => {\n    if (shape === \"rect\"){\n        shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth);\n\n    } else if (shape === \"circle\") {\n        shapes.attr(\"r\", shapeRadius)//.attr(\"cx\", shapeRadius).attr(\"cy\", shapeRadius);\n\n    } else if (shape === \"line\") {\n        shapes.attr(\"x1\", 0).attr(\"x2\", shapeWidth).attr(\"y1\", 0).attr(\"y2\", 0);\n\n    } else if (shape === \"path\") {\n      shapes.attr(\"d\", path);\n    }\n  },\n\n  d3_addText: function (svg, enter, labels, classPrefix){\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\");\n    svg.selectAll(`g.${classPrefix}cell text${classPrefix ? '.' + classPrefix : ''}`).data(labels).text(d3_identity);\n  },\n\n  d3_calcType: function (scale, ascending, cells, labels, labelFormat, labelDelimiter){\n    const type = scale.invertExtent ?\n            d3_quantLegend(scale, labelFormat, labelDelimiter) : scale.ticks ?\n            d3_linearLegend(scale, cells, labelFormat) : d3_ordinalLegend(scale);\n\n    type.labels = d3_mergeLabels(type.labels, labels, scale.domain(), scale.range());\n\n    if (ascending) {\n      type.labels = d3_reverse(type.labels);\n      type.data = d3_reverse(type.data);\n    }\n\n    return type;\n  },\n\n  d3_placement: (orient, cell, cellTrans, text, textTrans, labelAlign) => {\n    cell.attr(\"transform\", cellTrans);\n    text.attr(\"transform\", textTrans);\n    if (orient === \"horizontal\"){\n      text.style(\"text-anchor\", labelAlign);\n    }\n  },\n\n  d3_addEvents: function(cells, dispatcher){\n      cells.on(\"mouseover.legend\", function (d) { d3_cellOver(dispatcher, d, this); })\n          .on(\"mouseout.legend\", function (d) { d3_cellOut(dispatcher, d, this); })\n          .on(\"click.legend\", function (d) { d3_cellClick(dispatcher, d, this); });\n  },\n\n  d3_title: (svg, title, classPrefix) => {\n    if (title !== \"\"){\n\n      const titleText = svg.selectAll('text.' + classPrefix + 'legendTitle');\n\n      titleText.data([title])\n        .enter()\n        .append('text')\n        .attr('class', classPrefix + 'legendTitle');\n\n        svg.selectAll('text.' + classPrefix + 'legendTitle')\n            .text(title)\n\n      const cellsSvg = svg.select('.' + classPrefix + 'legendCells')\n\n      const yOffset = svg.select('.' + classPrefix + 'legendTitle').nodes()\n          .map(d => d.getBBox().height)[0],\n      xOffset = -cellsSvg.nodes().map(function(d) { return d.getBBox().x})[0];\n\n      cellsSvg.attr('transform', 'translate(' + xOffset + ',' + (yOffset + 10) + ')');\n\n    }\n  }\n}\n","import helper from './legend';\nimport { dispatch } from 'd3-dispatch';\nimport { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\n\nexport default function color(){\n\n  let scale = scaleLinear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 2,\n    cells = [5],\n    labels = [],\n    classPrefix = \"\",\n    useClass = false,\n    title = \"\",\n    labelFormat = format(\".01f\"),\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = \"to\",\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      const type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n      let cell = svg.select('.' + classPrefix + 'legendCells')\n          .selectAll(\".\" + classPrefix + \"cell\").data(type.data)\n\n      const cellEnter = cell.enter().append(\"g\")\n          .attr(\"class\", classPrefix + \"cell\")\n      cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n      const shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path);\n\n\n      helper.d3_addText( svg, cellEnter, type.labels, classPrefix)\n\n      // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n      cell = cellEnter.merge(cell);\n\n      // sets placement\n      const text = cell.selectAll(\"text\"),\n        shapeSize = shapes.nodes().map( d => d.getBBox());\n      //sets scale\n      //everything is fill except for line which is stroke,\n      if (!useClass){\n        if (shape == \"line\"){\n          shapes.style(\"stroke\", type.feature);\n        } else {\n          shapes.style(\"fill\", type.feature);\n        }\n      } else {\n        shapes.attr(\"class\", d => `${classPrefix}swatch ${type.feature(d)}`);\n      }\n\n      let cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n        cellTrans = (d,i) => `translate(0, ${i * (shapeSize[i].height + shapePadding)})`;\n        textTrans = (d,i) => `translate( ${(shapeSize[i].width + shapeSize[i].x +\n          labelOffset)}, ${(shapeSize[i].y + shapeSize[i].height/2 + 5)})`;\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = (d,i) => `translate(${(i * (shapeSize[i].width + shapePadding))},0)`\n        textTrans = (d,i) => `translate(${(shapeSize[i].width*textAlign  + shapeSize[i].x)},\n          ${(shapeSize[i].height + shapeSize[i].y + labelOffset + 8)})`;\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, title, classPrefix);\n\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" || (_ == \"path\" && (typeof d === 'string')) ){\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapeHeight = function(_) {\n    if (!arguments.length) return shapeHeight;\n    shapeHeight = +_;\n    return legend;\n  };\n\n  legend.shapeRadius = function(_) {\n    if (!arguments.length) return shapeRadius;\n    shapeRadius = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = typeof(_) === 'string' ? format(_) : _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.useClass = function(_) {\n    if (!arguments.length) return useClass;\n    if (_ === true || _ === false){\n      useClass = _;\n    }\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.on = function(){\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value;\n  }\n\n  return legend;\n\n};\n","import helper from './legend';\nimport { dispatch } from 'd3-dispatch';\nimport { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\nimport { sum, max } from 'd3-array';\n\nexport default function size(){\n\n  let scale = scaleLinear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapePadding = 2,\n    cells = [5],\n    labels = [],\n    classPrefix = \"\",\n    title = \"\",\n    labelFormat = format(\".01f\"),\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = \"to\",\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      const type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n      let cell = svg.select('.' + classPrefix + 'legendCells')\n          .selectAll(\".\" + classPrefix + \"cell\").data(type.data)\n      const cellEnter = cell.enter().append(\"g\")\n          .attr(\"class\", classPrefix + \"cell\")\n      cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n      const shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      //creates shape\n      if (shape === \"line\"){\n        helper.d3_drawShapes(shape, shapes, 0, shapeWidth);\n        shapes.attr(\"stroke-width\", type.feature);\n      } else {\n        helper.d3_drawShapes(shape, shapes, type.feature, type.feature, type.feature, path);\n      }\n\n      helper.d3_addText( svg, cellEnter, type.labels, classPrefix)\n\n      // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n      cell = cellEnter.merge(cell);\n\n      //sets placement\n      const text = cell.selectAll(\"text\"),\n        shapeSize = shapes.nodes().map(\n          (d, i) => {\n            const bbox = d.getBBox()\n            const stroke = scale(type.data[i]);\n\n            if (shape === \"line\" && orient === \"horizontal\") {\n              bbox.height = bbox.height + stroke;\n            } else if (shape === \"line\" && orient === \"vertical\"){\n              bbox.width = bbox.width;\n            }\n\n            return bbox;\n        });\n\n      const maxH = max(shapeSize, d => d.height + d.y),\n      maxW = max(shapeSize, d => d.width + d.x);\n\n      let cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n\n        cellTrans = (d,i) => {\n            const height = sum(shapeSize.slice(0, i + 1 ), d => d.height);\n            return `translate(0, ${(height + i*shapePadding)})`};\n\n        textTrans = (d,i) => `translate( ${(maxW + labelOffset)},\n          ${(shapeSize[i].y + shapeSize[i].height/2 + 5)})`;\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = (d,i) => {\n            const width = sum(shapeSize.slice(0, i + 1 ), d => d.width);\n            return `translate(${(width + i*shapePadding)},0)`; };\n\n        textTrans = (d,i) => `translate( ${(shapeSize[i].width*textAlign  + shapeSize[i].x)},\n              ${(maxH + labelOffset )})`;\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, title, classPrefix);\n\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" ){\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = typeof(_) === 'string' ? format(_) : _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.on = function(){\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value;\n  }\n\n  return legend;\n\n};\n","import helper from './legend';\nimport { dispatch } from 'd3-dispatch';\nimport { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\nimport { max } from 'd3-array';\n\nexport default function symbol(){\n\n  let scale = scaleLinear(),\n    shape = \"path\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 5,\n    cells = [5],\n    labels = [],\n    classPrefix = \"\",\n    title = \"\",\n    labelFormat = format(\".01f\"),\n    labelAlign = \"middle\",\n    labelOffset = 10,\n    labelDelimiter = \"to\",\n    orient = \"vertical\",\n    ascending = false,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      const type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n      let cell = svg.select('.' + classPrefix + 'legendCells')\n          .selectAll(\".\" + classPrefix + \"cell\").data(type.data)\n      const cellEnter = cell.enter().append(\"g\")\n          .attr(\"class\", classPrefix + \"cell\")\n      cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n      const shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      //remove old shapes\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, type.feature);\n      helper.d3_addText( svg, cellEnter, type.labels, classPrefix)\n\n      // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n      cell = cellEnter.merge(cell);\n\n      // sets placement\n      const text = cell.selectAll(\"text\"),\n        shapeSize = shapes.nodes().map( d => d.getBBox());\n\n      const maxH = max(shapeSize, d => d.height),\n      maxW = max(shapeSize, d => d.width);\n\n      let cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n        cellTrans = (d,i) => `translate(0, ${(i * (maxH + shapePadding))} )`;\n        textTrans = (d,i) => `translate( ${(maxW + labelOffset)},\n              ${(shapeSize[i].y + shapeSize[i].height/2 + 5)})`;\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = (d,i) => `translate( ${(i * (maxW + shapePadding))},0)`;\n        textTrans = (d,i) => `translate( ${(shapeSize[i].width*textAlign  + shapeSize[i].x)},\n              ${(maxH + labelOffset )})`;\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, title, classPrefix);\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = typeof(_) === 'string' ? format(_) : _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.on = function(){\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value;\n  }\n\n  return legend;\n\n};\n","export const thresholdLabels = function({ i, genLength, generatedLabels }){\n\n  if (i === 0 ){\n    return generatedLabels[i].replace('NaN to', 'Less than')\n  } else if (i === genLength - 1) {\n    return `More than ${generatedLabels[genLength - 1].replace(' to NaN', '')}`\n  }\n  return generatedLabels[i]\n}\n\nexport default {\n  thresholdLabels\n}\n","import legendColor from './src/color'\nimport legendSize from './src/size'\nimport legendSymbol from './src/symbol'\nimport legendHelpers from './src/helpers'\n\nexport default {\n  legendColor,\n  legendSize,\n  legendSymbol,\n  legendHelpers\n};\n"],"names":["scaleLinear","format","dispatch","max","sum"],"mappings":"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"}